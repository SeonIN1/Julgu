<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Hugo 0.88.1">
  <title>Starter Template · Bootstrap v4.6</title>

  <!-- Bootstrap core CSS -->
  <!-- <link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet"> -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">  

  <!-- Real Grid -->
  <link href="./realgrid/realgrid-style.css" rel="stylesheet">
  <script src="./realgrid/realgrid.2.3.3.min.js"></script>
  <script src="./realgrid/libs/jszip.min.js"></script>

  <!-- Custom styles for this template -->
  <link href="./css/common.css" rel="stylesheet">
  <link href="./css/unitProcess.css" rel="stylesheet">

  <!-- Toast Editor -->
  <link rel="stylesheet" href="https://uicdn.toast.com/editor/latest/toastui-editor.min.css" />
  <link rel="stylesheet" type="text/css" href="https://uicdn.toast.com/tui-color-picker/latest/tui-color-picker.css">
</head>
<body>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
    <a class="navbar-brand" href="#">KOOK</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link disabled" href="#">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="#">Step</a>
        </li>
        <!-- <li class="nav-item">
          <a class="nav-link disabled">Disabled</a>
        </li> -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle active" href="#" id="dropdown01" data-toggle="dropdown" aria-expanded="false">Previous</a>
          <div class="dropdown-menu" aria-labelledby="dropdown01">
            <a class="dropdown-item" href="#">단위프로세스</a>
            <a class="dropdown-item" href="#">단위프로세스(스텝)</a>
            <a class="dropdown-item" href="#">공통코드</a>
          </div>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle active" id="userInfoDropdown" href="#" id="dropdown01" data-toggle="dropdown" aria-expanded="false">Previous</a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdown01">
            <a class="dropdown-item" id="userInfoID" href="#!"></a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="${contextPath}/logout">Logout</a>
          </div>
        </li>
      </ul>
      <!-- <form class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
        <button class="btn btn-secondary my-2 my-sm-0" type="submit">Search</button>
      </form> -->
    </div>
  </nav>
  <main role="main" class="container-fluid"> <!-- container-fluid -->
    <div class="starter-template">
      <h4>단위프로세스</h4>
      <div id="seletArea" class="seletArea row col-9">
        <select class="form-control col-2" id="proc_lrcl_cd" onchange="setCCC002()">
          <option value="" selected="selected">선택해주세요</option>
        </select>
        <select class="form-control col-2" id="proc_mdcl_cd" onchange="setCCC003()"></select>
        <select class="form-control col-2" id="proc_smcl_cd"></select>
        <input id="procId" class="form-control col-1" readonly style="font-weight: bold;">
        <input id="procName" class="form-control col-2" readonly style="font-weight: bold;">
      </div>
      <div class="mainArea">
        <div class="contentArea col-4">
          <div class="gridArea">
            <div id="realgrid" class="realgrid"></div>
          </div>
          <div class="detailArea">
            <div class="card">
              <div class="card-header">Image<span style="font-weight: lighter; font-size: 12px; color: red;">&nbsp(*목록에 있는 파일를 지우시면 삭제됩니다)</span></div>
              <div class="card-body fileList">
                <div class= "col imgImgListArea">
                  <div class="custom-file">
                    <input name="files" id="imageUpload" type="file" class="custom-file-input" multiple/>
                      <label class="custom-file-label" for="fileupload" aria-describedby="fileList">Choose file</label>
                  </div>
                  <div id='my-form' class="list-group" style="height:130px; border:1px solid gray; overflow:scroll;">
                    <div id="imageList" style="margin-left: 10px;"></div>
                  </div>   
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-header">첨부파일<span style="font-weight: lighter; font-size: 12px; color: red;">&nbsp(*목록에 있는 파일를 지우시면 삭제됩니다)</span></div>
              <div class="card-body fileList">
                <div class= "col imgFileListArea">
                  <div class="custom-file">
                    <input name="files" id="fileupload" type="file" class="custom-file-input" multiple/>
                      <label class="custom-file-label" for="fileupload" aria-describedby="fileList">Choose file</label>
                  </div>
                  <div id='my-form' class="list-group" style="height:130px; border:1px solid gray; overflow:scroll;">
                    <div id="fileList" style="margin-left: 10px;"></div>
                  </div>   
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="imgArea col-8">
          <div class="card">
            <div class="card-header">
              <ul class="nav nav-pills" id="pills-tab" role="tablist">
                <li class="nav-item" role="presentation">
                  <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true">Image</a>
                </li>
                <!-- <li class="nav-item" role="presentation">
                  <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#pills-profile" role="tab" aria-controls="pills-profile" aria-selected="false">detail</a>
                </li> -->
                <li class="nav-item" role="presentation">
                  <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-contact" role="tab" aria-controls="pills-contact" aria-selected="false">Step</a>
                </li>
              </ul>
            </div>
            <div class="card-body">
              <div class="tab-content" id="pills-tabContent">
                <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab" style="overflow-y:auto; overflow-x:hidden; width:100%; height:100%;">
                  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                    <div id="carousel-inner" class="carousel-inner">
                        <div id="processImgList" class="carousel-item active">
                          <!-- <img src="./img/slide1.jpg" alt="..." style="width: 100%;"> -->
                          <!-- <img src="./img/test.JPG" alt="..." style="width: 100%;"> -->
                          <!-- <img src="./img/test.png" alt="..." style="width: 100%;"> -->
                          <!-- <img src="./img/test.png" alt="..." style="width: 100%;"> -->
                        </div>
                    </div>
                  </div>                
                </div>
                <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">...</div>
                <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">
                  <div class="stepGridArea">
                    <div id="stepGrid" class="stepGrid"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- 프로세스 관리 모달 Start -->
  	<!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">Open modal for @mdo</button> -->
	<div class="modal fade" id="propsMaModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	  <div class="modal-dialog modal-lg modal-dialog-centered">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="exampleModalLabel">단위프로세스</h5>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <div class="modal-body">
	      	<div class="container-fluid">
		        <form>
		        	<div class="row">
		        		<label for="recipient-name" class="col-form-label" style="font-weight: bold;">프로세스 분류</label>
		        	</div>
		        	<div class="row">
                <div class="form-group col-4" style="padding-left: 0; padding-right: 1px;">
		            	<select class="form-control" id="modal_procLrclCd" onchange="setCCC002_modal()"></select>
                </div>
                <div class="form-group col-4" style="padding-left: 1px; padding-right: 1px;">
		            	<select class="form-control" id="modal_procMdclCd" onchange="setCCC003_modal()"></select>
                </div>  
                <div class="form-group col-4" style="padding-left: 1px; padding-right: 0;">
		            	<select class="form-control" id="modal_procSmclCd"></select>
                </div> 
		        	</div>
		        	<div class="row">
			        	<div class="form-group col-6" style="padding: 0">
			            	<label for="recipient-name" class="col-form-label" style="font-weight: bold;">프로세스ID</label>
			            	<input type="text" class="form-control" id="process_id" readonly>
				        </div>
				        <div class="form-group col-6" style="padding-right: 0">
			            	<label for="recipient-name" class="col-form-label" style="font-weight: bold;">프로세스명</label>
			            	<input type="text" class="form-control" id="process_name">
				        </div>
		        	</div>
		        	<div class="row">
		        		<div class="form-group col" style="padding: 0">
			            	<label for="message-text" class="col-form-label" style="font-weight: bold;">프로세스 내용</label>
		            		<!-- <textarea class="form-control" id="message-text"></textarea> -->
		            		<div class="form-control" id="process_ctn"></div>
				        </div>
		        	</div>
		        </form>
	        </div>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
	        <button type="button" class="btn btn-primary" onclick="updateProcInfo()">저장</button>
	      </div>
	    </div>
	  </div>
	</div>
  	<!-- 프로세스 관리 모달 End -->
  </main><!-- /.container -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script> -->
  <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
  <!-- <script>window.jQuery || document.write('<script src="../assets/js/vendor/jquery.slim.min.js"><\/script>')</script> -->
  <!-- <script src="../assets/dist/js/bootstrap.bundle.min.js"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <!-- Toast Editor -->
  <script src="https://uicdn.toast.com/tui-color-picker/latest/tui-color-picker.js"></script>
  <script src="https://uicdn.toast.com/editor/latest/toastui-editor-all.min.js"></script>
  <script src="https://uicdn.toast.com/editor-plugin-color-syntax/latest/toastui-editor-plugin-color-syntax.min.js"></script>
  <script src="./js/unitProcess.js"></script>
  <script>
    const realGrid2Lic = "upVcPE+wPOmtLjqyBIh9RkM/nBOseBrflwxYpzGZyYmf0p0NzaD/UGp5TZmtDv/s/NIW4NiE7ye99/vc60f9i/zSFuDYhO8n5FWoeNFAGterVC5AjTeyHVvbelftwmJ2pzTSJoFVyNeLmrqK4xhR4kYeXTIC2fYTRZ8IdzC3lzGGfnABQhKm+Rqu6PpPvPE3Zue8h1ZHbPM=";
    // const contextPath = "http://localhost:18087/KOOK/";
    const contextPath = "http://localhost:8080/KOOK/";
    // const loginId = "<%=(String)session.getAttribute("login_user")%>";  //로그인 아이디
    // const userName = "<%=(String)session.getAttribute("USER_NAME")%>";  //이름
    const loginId = "HN999";    //로그인 아이디
    const userName = "테스트";  //이름
    document.getElementById('userInfoDropdown').innerText = userName;
    document.getElementById('userInfoID').innerText = loginId;
  </script>
</body>
</html>
